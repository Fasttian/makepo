<#include "./home/public/header.html"/>

<!-- BREADCRUMBS SETCTION START -->
<div class="breadcrumbs-section mb-80">
    <div class="breadcrumbs overlay-bg">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="breadcrumbs-inner">
                        <h1 class="breadcrumbs-title">product view</h1>
                        <ul class="breadcrumb-list">
                            <li><a href="">Home</a></li>
                            <li>product view</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- BREADCRUMBS SETCTION END -->

<!-- Start page content -->
<div id="page-content" class="page-wrapper">

    <!-- SHOP SECTION START -->
    <div class="shop-section mb-80">
        <div class="container">
            <div id="power-list-content">
                <#if powerListPageModel ??>
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="shop-content">
                                <!-- shop-option start -->
                                <div class="shop-option box-shadow mb-30 clearfix">
                                    <!-- Nav tabs -->
                                    <ul class="shop-tab f-left" role="tablist">
                                        <li class="active">
                                            <a href="#grid-view" data-toggle="tab"><i class="zmdi zmdi-view-module"></i></a>
                                        </li>
                                        <li>
                                            <a href="#list-view" data-toggle="tab"><i
                                                    class="zmdi zmdi-view-list-alt"></i></a>
                                        </li>
                                    </ul>
                                    <div class="showing f-right text-right">
                                        <span>total : ${powerListPageModel.total}&nbsp;&nbsp;&nbsp;  </span>
                                    </div>
                                </div>
                                <!-- shop-option end -->
                                <!-- Tab Content start -->

                                <div class="tab-content">
                                    <!-- grid-view -->
                                    <div role="tabpanel" class="tab-pane active" id="grid-view">
                                        <div class="row">
                                            <#list powerListPageModel.powerList as powerList>
                                                <!-- lamp-item start -->
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <div class="product-item">
                                                        <div class="product-img">
                                                            <a href="javascript:detail(${powerList.id})">
                                                                <img src="${powerList.productTitleImage}" alt=""/>
                                                            </a>
                                                        </div>
                                                        <div class="product-info">
                                                            <h6 class="product-title">
                                                                <a href="javascript:detail(${powerList.id})">${powerList.model}</a>
                                                            </h6>
                                                            <div class="pro-rating">
                                                                <a href="#"><i class="zmdi zmdi-star"></i></a>
                                                                <a href="#"><i class="zmdi zmdi-star"></i></a>
                                                                <a href="#"><i class="zmdi zmdi-star"></i></a>
                                                                <a href="#"><i class="zmdi zmdi-star-half"></i></a>
                                                                <a href="#"><i class="zmdi zmdi-star-outline"></i></a>
                                                            </div>

                                                            <ul class="action-button">
                                                                <li>
                                                                    <a href="#" title="Wishlist"><i
                                                                            class="zmdi zmdi-favorite"></i></a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" data-toggle="modal" onclick="deltailByModal(${powerList.id})"
                                                                       data-target="#productModal"
                                                                       title="Quickview"><i
                                                                            class="zmdi zmdi-zoom-in"></i></a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- lamp-item end -->
                                             </#list>
                                        </div>
                                    </div>

                                </div>
                                <#if powerListPageModel.total !=0>
                                    <ul class="shop-pagination box-shadow text-center ptblr-10-30">
                                        <#if (lampListPageModel.currentPage = 1)>
                                            <#else>
                                                <li><a href="javascript:queryByPage(${powerListPageModel.prevPage});"><i
                                                        class="zmdi zmdi-chevron-left"></i></a></li>
                                        </#if>
                                        <#list 1..powerListPageModel.count as i>
                                            <li <#if (powerListPageModel.currentPage = i)> class="active"</#if>>
                                            <a href="javascript:queryByPage(${i});">${i_index+1}</a>
                                            </li>
                                        </#list>
                                        <#if (powerListPageModel.currentPage = powerListPageModel.count)>
                                            <#else>
                                                <li class="next">
                                                    <a href="javascript:queryByPage(${powerListPageModel.nextPage})"><i
                                                            class="zmdi zmdi-chevron-right"></i></a>
                                                </li>
                                        </#if>
                                    </ul>
                                <#else>
                                暂无内容！
                                </#if>
                            </#if>
                                <!-- shop-pagination end -->
                            </div>
                        </div>
                    </div>

            </div>
        </div>
    </div>
    <!-- SHOP SECTION END -->

</div>
<!-- End page content -->
<!-- START QUICKVIEW PRODUCT -->
<div id="quickview-wrapper">
    <!-- Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-product clearfix">
                        <div class="product-images">
                            <div class="main-image images">
                                <img alt="" id="productTitleImage-formodal" src="">
                            </div>
                        </div><!-- .lamp-images -->

                        <div class="product-info">
                            <h1 id="model-formodaltitle" ></h1>
                            <div class="price-box-3">
                                <div class="s-price-box">
                                    <span class="new-price" id="productType-formodal"></span>
                                </div>
                            </div>
                            <!--<div class="quick-add-to-cart">-->
                            <!--<form method="post" class="cart">-->
                            <!--<div class="numbers-row">-->
                            <!--<input type="number" id="french-hens" value="3">-->
                            <!--</div>-->
                            <!--<button class="single_add_to_cart_button" type="submit">Add to cart</button>-->
                            <!--</form>-->
                            <!--</div>-->
                            <div class="quick-desc">
                                <p>Model: <span id="model-formodal"></span></p>
                                <p>input(V): <span id="input-formodal"></span></p>
                                <p>output(W): <span id="output-formodal"></span></p>
                                <p>size: <span id="size-formadal"></span></p>
                            </div>
                            <a href="" id="seeall" class="see-all">See all features</a>
                            <div class="social-sharing">
                                <div class="widget widget_socialsharing_widget">
                                    <h3 class="widget-title-modal">Share this product</h3>
                                    <ul class="social-icons clearfix">
                                        <li>
                                            <a class="facebook" href="#" target="_blank" title="Facebook">
                                                <i class="zmdi zmdi-facebook"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="google-plus" href="#" target="_blank" title="Google +">
                                                <i class="zmdi zmdi-google-plus"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="twitter" href="#" target="_blank" title="Twitter">
                                                <i class="zmdi zmdi-twitter"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="pinterest" href="#" target="_blank" title="Pinterest">
                                                <i class="zmdi zmdi-pinterest"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="rss" href="#" target="_blank" title="RSS">
                                                <i class="zmdi zmdi-rss"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div><!-- .lamp-info -->
                    </div><!-- .modal-lamp -->
                </div><!-- .modal-body -->
            </div><!-- .modal-content -->
        </div><!-- .modal-dialog -->
    </div>
    <!-- END Modal -->
</div>
<!-- END QUICKVIEW PRODUCT -->

<#include "./home/public/footer.html"/>

<script>
    //ajax 访问后台提取数据
    function queryByPage(pageNum) {
        $.ajax({
            type: 'GET',
            url:'/powerListByPage?pageNum='+ pageNum,
            success: function(data) {
                $('#power-list-content').html();
                $('#power-list-content').html(data);
            },
            error: function(){
                alert('保存失败！');
            }
        })
    }

    function detail(id) {
        $.ajax({
            type: 'GET',
            url:'/powerDetail?id='+ id,
            success: function(data) {
                window.location.href='/powerDetail?id='+id;

            },
            error: function(){
                alert('请求出错!');
            }
        })
    }



    function deltailByModal(id) {
        $.ajax({
            type: 'GET',
            url: '/powerDetailByModal?id=' +id,
            dataType:'json',
            success: function (data){

                $("#productTitleImage-formodal").attr("src",data.productTitleImage);
                $("#model-formodaltitle").html(data.model);
                $("#model-formodal").html(data.model);
                $("#input-formodal").html(data.input)
                $("#output-formodal").html(data.output)
                $("#size-formadal").html(data.size)
                $("#seeall").attr("href","javascript:detail(" + data.id + ")")


            },
            error: function () {
                console.log("获取数据失败！")
            }
        })
    }



</script>